<%= render 'layouts/navbar'%>

<div>
  <div class="row" id="referral_login">
    <div class="col-lg-12 col-md-12">
      <%= stylesheet_link_tag "login" %>
      <div class="form">

        <ul class="tab-group">
          <li class="tab active"><a href="#signup">Sign Up</a></li>
          <li class="tab"><a href="#login">Log In</a></li>
        </ul>

        <div class="tab-content">
          <div id="signup">   
            <h1>Sign Up for Free</h1>

            <%= form_for(@resource, url: registration_path(@resource)) do |f| %>

            <div class="field-wrap">
              <%= f.label :firstname, 'First Name' %><br /><br/>
              <%= f.text_field :firstname, autofocus: true %>
            </div>

            <div class="field-wrap">
             <%= f.label :lastname, 'Last Name' %><br /><br/>
             <%= f.text_field :lastname, autofocus: true %>
           </div>


           <div class="field-wrap">
            <%= f.label :email %><br /><br/>
            <%= f.email_field :email, autofocus: true %>
          </div>

          <div class="field-wrap">
            <%= f.label :password %>
            <% if @minimum_password_length %>
            <em>(<%= @minimum_password_length %> characters minimum)</em>
            <% end %><br /><br/>
            <%= f.password_field :password, autocomplete: "off" %>
          </div>

          <div class="field-wrap">
            <%= f.label :password_confirmation %><br /><br/>
            <%= f.password_field :password_confirmation, autocomplete: "off" %>
          </div>

          <div class="actions">
            <%= f.submit "Sign up", class: "button button-block" %>
          </div>
          <% end %>


        </div>
        
        <div id="login">   
         <h1>Welcome Back!</h1>

         <%= form_for(@resource, url: session_path(@resource)) do |f| %>

         <div class="field-wrap">

          <%= f.label :email, "Email" %><br/><br/>
          <%= f.email_field :email, autofocus: true %>
        </div>

        <div class="field-wrap">
          <%= f.label :password, "Password" %><br/><br/>
          <%= f.password_field :password, autocomplete: "off" %>
        </div>
        <div class="actions">
          <%= f.submit "Log in", class: "button button-block" %>
        </div>
        <% end %>

      </div>



    </div>
  </div>
</div>

 <script> $('.form').find('input, textarea').on('keyup blur focus', function (e) {
  
  var $this = $(this),
      label = $this.prev('label');

    if (e.type === 'keyup') {
      if ($this.val() === '') {
          label.removeClass('active highlight');
        } else {
          label.addClass('active highlight');
        }
    } else if (e.type === 'blur') {
      if( $this.val() === '' ) {
        label.removeClass('active highlight'); 
      } else {
        label.removeClass('highlight');   
      }   
    } else if (e.type === 'focus') {
      
      if( $this.val() === '' ) {
        label.removeClass('highlight'); 
      } 
      else if( $this.val() !== '' ) {
        label.addClass('highlight');
      }
    }

});

$('.tab a').on('click', function (e) {
  
  e.preventDefault();
  
  $(this).parent().addClass('active');
  $(this).parent().siblings().removeClass('active');
  
  target = $(this).attr('href');

  $('.tab-content > div').not(target).hide();
  
  $(target).fadeIn(600);
  
});
</script>
<%= render 'layouts/footer'%>

